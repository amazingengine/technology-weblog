= Kubernetesã§Redisæ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ã‚‚ã£ãŸRedisã‚’å»ºã¦ã‚ˆã†
kuzunoha-ne
v1.0, 2019-07-10 17:30
:page-category: ã‚¤ãƒ³ãƒ•ãƒ©
:page-thumbnail: /images/logos/kubernetes.png

## ã¯ã˜ã‚ã« +

ã“ã‚“ã°ã‚“ã¯ã€ç§ã¯è‘›ãƒè‘‰ã¨è¨€ã„ã¾ã™ã€‚ +

Amazing engineæ ªå¼ä¼šç¤¾ã§ã¯è‹±èªè©¦é¨“å•é¡Œ-EnglishPassedã¨ã„ã†è‹±èªã‚’å‹‰å¼·ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚ãã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯Kubernetesã¨ã„ã†ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚è‹±èªå•é¡Œæ–‡ã«ã¤ã„ã¦ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«Redisã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã¯ãªãKVSã®Redisã‚’é¸ã‚“ã ç†ç”±ã¯å¾Œã»ã©è©±ã™ã¨ã—ã¦ã€ä»Šå›ã¯ãã®Redisã‚’Kubernetesä¸Šã§ã©ã®ã‚ˆã†ã«ç«‹ã¡ä¸Šã’ã‚‹ã‹ã‚’è¨˜è¼‰ã—ã¦ã„ãã¾ã™ã€‚ +

## å¿…è¦ãªã‚‚ã® +

Ubuntu 18.04 +
minikube v1.2.0 +
docker 18.09.7 +
redis-cli 4.0.9 +
ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ç¹‹ãŒã£ã¦ã„ã‚‹ç’°å¢ƒ +

## minikubeã‚’èµ·å‹•ã—ã¦Dockerã¨ç´ä»˜ã‘ã‚‹

`minikube start` ã‚’ä½¿ã£ã¦minikubeã‚’èµ·å‹•ã—ã¾ã—ã‚‡ã†ã€‚ +

....
[kuzunoha@:17:40:40:~]$ minikube start
ğŸ˜„  minikube v1.2.0 on linux (amd64)
ğŸ’¡  Tip: Use 'minikube start -p <name>' to create a new cluster, or 'minikube delete' to delete this one.
ğŸ”„  Restarting existing virtualbox VM for "minikube" ...
âŒ›  Waiting for SSH access ...
ğŸ³  Configuring environment for Kubernetes v1.15.0 on Docker 18.09.6
ğŸ”„  Relaunching Kubernetes v1.15.0 using kubeadm ...
âŒ›  Verifying: apiserver proxy etcd scheduler controller dns
ğŸ„  Done! kubectl is now configured to use "minikube"
....

`Done! kubectl is now configured to use "minikube"` ã¨è¡¨ç¤ºã•ã‚Œã‚Œã°minikubeã¯èµ·å‹•å®Œäº†ã§ã™ã€‚ +

ãã‚Œã‹ã‚‰minikubeã¨Dockerã‚’ç´ä»˜ã‘ã¾ã—ã‚‡ã†ã€‚

`minikube docker-env` ã¨å…¥åŠ›ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ãŒã‚ã‚‹ã¯ãšã§ã™ã€‚

....
[kuzunoha@:17:43:17:~]$ minikube docker-env
export DOCKER_TLS_VERIFY="1"
export DOCKER_HOST="tcp://192.168.99.100:2376"
export DOCKER_CERT_PATH="/home/kuzunoha/.minikube/certs"
# Run this command to configure your shell:
# eval $(minikube docker-env)
....

`eval $(minikube docker-env)` ã¨è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’å®Ÿæ–½ã™ã‚‹ã“ã¨ã§minikubeã¨dockerã‚’ç´ä»˜ã‘ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚

....
[kuzunoha@:17:48:44:~]$ eval $(minikube docker-env)
[kuzunoha@:17:48:47:~]$ <- ã™ãã«ã‚³ãƒãƒ³ãƒ‰ãŒè¿”ã£ã¦ãã‚‹ã€‚
....

ãªãŠã€ã“ã®Bashã‹ã‚‰æŠœã‘ãŸã‚Šã—ãŸå ´åˆã¯ `eval $(minikube docker-env)` ã®åŠ¹æœã¯ãªããªã‚Šã¾ã™ã€‚ +

ä»¥å¾Œã¯ç‰¹åˆ¥ãªè¨˜è¼‰ã‚’ã—ãªã„é™ã‚Šã“ã®Bashã§æ“ä½œã—ã¦ã„ãã¾ã™ã€‚ +

## Redisã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹

`docker pull redis:5.0.3` ã¨æ‰“ã¡ã€DockerHubã‹ã‚‰Redisã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚ +

....
[kuzunoha@:18:11:43:~]$ docker pull redis:5.0.3
5.0.3: Pulling from library/redis
f7e2b70d04ae: Pull complete
421427137c28: Pull complete
4af7ef63ef0f: Pull complete
b858087b3517: Pull complete
2aaf1944f5eb: Pull complete
8270b5c7b90d: Pull complete
Digest: sha256:4be7fdb131e76a6c6231e820c60b8b12938cf1ff3d437da4871b9b2440f4e385
Status: Downloaded newer image for redis:5.0.3
....

`docker image ls` ã¨å…¥åŠ›ã™ã‚Œã°ã„ãã¤ã‹ã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¨å…±ã« `redis` ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚ +

....
[kuzunoha@:18:33:00:~]$ docker image ls | grep redis
redis                                     5.0.3               0f88f9be5839        4 months ago        95MB
....

minikubeä¸Šã«redis:5.0.3ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’Pullã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚æ¬¡ã¯redisã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦StatefulSetã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚

## StatefulSetã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’ä½œã‚‹

Kubernetesã«ã¯ `StatefulSet` ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ `æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸` ã‚’æŒã¤ã“ã¨ãŒå‡ºæ¥ã‚‹ `Pod` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã ã¨æ€ã£ã¦è²°ãˆã‚Œã°ã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚StatefulSetã¨å«ã‚ã€Kubernetesã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã«ã¯ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã¨ã„ã† `yamlãƒ•ã‚¡ã‚¤ãƒ«` ã‚’ä½œæˆã—ã€ã“ã‚Œã‚’Kubernetesã«é©å¿œã•ã›ã‚‹ã“ã¨ãŒåŸºç¤çš„ãªæ–¹æ³•ã«ãªã‚Šã¾ã™ã€‚ +

ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«åã¯å¥½ããªåå‰ã§å¤§ä¸ˆå¤«ã§ã™ã€‚ä»Šå›ä½œæˆã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ `Redisã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒã£ãŸStatefulSet` ã®ãŸã‚ã€ãƒ•ã‚¡ã‚¤ãƒ«åã¯ `st_redis.yaml` ã¨ã—ã¾ã—ã‚‡ã†ã€‚ +

....
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: redis-master
spec:
  serviceName: "redis-master"
  replicas: 1
  selector:
    matchLabels:
        pj: project
  template:
    metadata:
      labels:
          pj: project
    spec:
      containers:
      - name: master
        image: redis:5.0.3
        command: ["redis-server"]
        resources:
          requests:
            cpu: 100m
            memory: 100Mi
        ports:
        - containerPort: 6379
        volumeMounts:
        - name: datapath
          mountPath: /data
  volumeClaimTemplates:
  - metadata:
      name: datapath
    spec:
      accessModes: [ "ReadWriteOnce" ]
      resources:
        requests:
          storage: 1Gi
....

ä¸Šè¨˜yamlãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºæ¥ãŸã‚‰ `kubectl apply -f st_redis.yaml` ã¨ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã€StatefulSetã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚ +

....
[kuzunoha@:10:07:14:~]$ kubectl apply  -f st_redis.yaml
statefulset.apps/test-project created
....

`kubectl get statefulset` ã¨å…¥åŠ›ã™ã‚‹ã“ã¨ã§StatefulSetã®æƒ…å ±ãŒå–å¾—ã§ãã¾ã™ã€‚ +

....
[kuzunoha@:10:18:36:~]$ kubectl get statefulset
NAME           READY     AGE
redis-master   1/1       4m36s
....

StatefulSetã¯ `Pod` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ `kubectl get pods` ã¨å…¥åŠ›ã—ã¾ã—ã‚‡ã†ã€‚ +

....
[kuzunoha@:10:18:37:~]$ kubectl get pods
NAME             READY     STATUS    RESTARTS   AGE
redis-master-0   1/1       Running   0          4m53s
....

Podã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã¯Dockerã‚³ãƒ³ãƒ†ãƒŠã¨æ€ã£ã¦ã‚‚ã‚‰ãˆã‚Œã°ã‚ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚StatefulSetã¯ `PersistentVolume` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚‚ä½œæˆã—ã¾ã™ã€‚ `kubectl get pv` ã¨å…¥åŠ›ã—ã¾ã—ã‚‡ã†ã€‚ +

....
[kuzunoha@:10:26:18:~]$ kubectl get pv
NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS    CLAIM                             STORAGECLASS   REASON    AGE
pvc-0354be5e-8405-4e86-8ab3-08ae52cf030e   1Gi        RWO            Delete           Bound     default/datapath-redis-master-0   standard                 12m
....

PersistentVolumeã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã¯æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ã“ã¨ã§ã€ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å®Ÿéš›ã®Redisã®ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚StatefulSetã¯ `PersistentVolumeClaim` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚‚ä½œæˆã—ã¾ã™ã€‚ `kubectl get pvc` ã¨å…¥åŠ›ã—ã¾ã—ã‚‡ã†ã€‚ +

....
[kuzunoha@:10:26:21:~]$ kubectl get pvc
NAME                      STATUS    VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
datapath-redis-master-0   Bound     pvc-0354be5e-8405-4e86-8ab3-08ae52cf030e   1Gi        RWO            standard       18m
....

PersistentVolumeClaimã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã¯Podã¨PersistentVolumeã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç´ä»˜ã‘ã‚‹ãŸã‚ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ +

## Serviceã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’ä½œã‚‹

Kubernetesã«ã¯Podã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨é€šä¿¡ã‚’ã™ã‚‹ãŸã‚ã® `Service` ã¨ã„ã†ã‚¤ãƒ³ãƒ•ãƒ©ç”¨ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã—ã¾ã™ã€‚å¤–éƒ¨ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰Podã¨é€šä¿¡ã‚’è¡Œã†ãŸã‚ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãªã‚Šã¾ã™ã€‚ã•ãã»ã©ä½œæˆã—ãŸRedisã®StatefulSetã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨é€šä¿¡å‡ºæ¥ã‚‹ã‚ˆã†ã«ã€Serviceã‚’æ§‹ç¯‰ã—ã¾ã—ã‚‡ã†ã€‚Serviceã‚’æ§‹ç¯‰ã™ã‚‹ã«ã¯ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãŒå¿…è¦ã§ã™ã€‚ +

`svc_redis.yaml` ã¨ã„ã†åå‰ã§ã€ä»¥ä¸‹ã®å†…å®¹ã® `yaml` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ +

....
apiVersion: v1
kind: Service
metadata:
  name: redis-master
  labels:
    pj: project
spec:
  type: NodePort
  ports:
  - port: 6379
    targetPort: 6379
  selector:
    pj: project
....

`kubectl apply -f svc_redis.yaml` ã¨å…¥åŠ›ã—ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã—ã¾ã™ã€‚ +

....
[kuzunoha@:11:29:05:~]$ kubectl apply -f svc_redis.yaml 
service/redis-master created
....

`kubectl get svc` ã¨å…¥åŠ›ã‚’ã—ã€ä½œæˆã—ãŸServiceã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ +

....
[kuzunoha@:11:29:13:~/mine/type]$ kubectl get svc
NAME           TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE
kubernetes     ClusterIP   10.96.0.1      <none>        443/TCP          15d
redis-master   NodePort    10.99.220.25   <none>        6379:31914/TCP   26s
....

ã“ã‚Œã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰æ¥ç¶šå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ +

`minikube service redis-master --url` ã¨å…¥åŠ›ã‚’ã—ã¦URLã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ +

....
[kuzunoha@:11:47:58:~]$ minikube service redis-master --url
http://192.168.99.100:31914
....

ä»Šå›ã¯ `192.168.99.100:31914` ã¨ã„ã†éƒ¨åˆ†ã ã‘ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ +

`redis-cli` ã‚’ä½¿ã£ã¦ `redis-cli -h 192.168.99.100 -p 31914` ã¨å…¥åŠ›ã—ã¾ã—ã‚‡ã†ã€‚ã‚¢ã‚¯ã‚»ã‚¹ãŒå‡ºæ¥ã¾ã™ã€‚

....
[kuzunoha@:11:48:02:~]$ redis-cli -h 192.168.99.100 -p 31914
192.168.99.100:31914> 
....

`set hoge piyo` ã¨ã—ã¦ã€ `hoge` Keyã« `piyo` ã¨ã„ã†å€¤ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ +

....
192.168.99.100:31914> set hoge piyo
OK
....

`get hoge` ã¨ã™ã‚Œã° `piyo` ã¨å€¤ãŒè¿”ã‚Šã¾ã™ã€‚ +

....
192.168.99.100:31914> get hoge
"piyo"
....

`python` ã§ `redis.py` ã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹ãªã‚‰ã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ç¢ºèªã‚‚å‡ºæ¥ã¾ã™ã€‚ +

....
[kuzunoha@:11:57:21:~]$ python
Python 3.6.6 (default, Sep 22 2018, 22:40:03)
[GCC 7.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import redis
>>> r = redis.Redis(host="192.168.99.100", port=31914)
>>> r.get("hoge")
b'piyo'
>>>
....

`b'piyo'` ã¨å€¤ãŒè¿”ã£ã¦ãã¾ã—ãŸã€‚ `b` ã¯pythonã§byteå‹ã¨ã„ã†å½¢å¼ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚ +

## PodãŒæ­»ã‚“ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ã¯ç”Ÿãã¦ã„ã‚‹

StatefulSetã®ç‰¹å¾´ã¯PVã¨PVCã¨ã„ã†æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’è¨­å®šã§ãã‚‹ç‚¹ã§ã™ã€‚Podã¨ã¯åˆ¥ã«ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’æŒã£ã¦ã„ã‚‹ã‚ã‘ã§ã™ã‹ã‚‰ã€PodãŒå£Šã‚Œã¦ã‚‚ã€PVã«ã¯å½±éŸ¿ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å®Ÿéš›ã«Podã‚’ç ´å£Šã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ +

`kubectl delete pod redis-master-0` ã¨ã™ã‚Œã°Podã‚’æ¶ˆã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚

....
[kuzunoha@:12:01:36:~]$ kubectl delete pods redis-master-0
pod "redis-master-0" deleted
[kuzunoha@:12:05:27:~]$ kubectl get pod
NAME             READY     STATUS              RESTARTS   AGE
redis-master-0   0/1       ContainerCreating   0          2s
[kuzunoha@:12:05:28:~]$ kubectl get pod
NAME             READY     STATUS    RESTARTS   AGE
redis-master-0   1/1       Running   0          4s
....

å°‘ã—ã‚ã‹ã‚Šã«ãã„ã“ã¨ãŒèµ·ããŸã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ãŒã€StatefulSetã¯Podã‚’ç›£è¦–ã—ã¦ã„ã¦ã€è¨­å®šã•ã‚ŒãŸæ•°ã«æº€ãŸãªã„å ´åˆã¯Podã‚’è‡ªå‹•ã§æ–°ãŸã«ä½œã‚Šå‡ºã™ã¨ã„ã†å‹•ä½œã‚’ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ä»Šå›ã€ `kubectl delete pod redis-master-0` ã¨ã—ãŸã“ã¨ã§ã€ä¸€åº¦Podã¯æ¶ˆã•ã‚Œã¾ã—ãŸã€‚ã—ã‹ã—ã€ä¸Šè¨˜ã®å‹•ä½œã«ã‚ˆã£ã¦æ–°ã—ã„PodãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚ `AGE` è¡ŒãŒ4sã¨ãªã£ã¦ã„ã‚‹ã®ã¯ã€PodãŒä½œæˆã•ã‚Œã¦ã‹ã‚‰4ç§’ã—ã‹çµŒéã—ã¦ã„ãªã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚ +

ãã‚Œã§ã¯å†ã³ `redis-cli` ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚ +

....
[kuzunoha@:12:05:30:~]$ redis-cli -h 192.168.99.100 -p 31914
192.168.99.100:31914> get hoge
"piyo"
....

ã“ã®ã‚ˆã†ã« `piyo` ãŒè¿”ã£ã¦ãã¾ã—ãŸã€‚ +

## Kubernetesä¸Šã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ã¨ã„ã†ã“ã¨

Kubernetesã§RedisServiceã‚’ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã†ã¾ãä½¿ãˆã‚Œã°Kubernetesã§Podã‚’ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚æ¬¡å›ã¯ç°¡æ˜“çš„ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€ä»Šå›ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸRedisServiceã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—è¡¨ç¤ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
